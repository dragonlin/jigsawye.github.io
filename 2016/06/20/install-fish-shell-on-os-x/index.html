<!DOCTYPE html><html lang="zh-tw"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>在 OSX 使用 Fish shell 取代 bash/zsh · JIGSAWYE</title><meta name="description" content="在 OSX 使用 Fish shell 取代 bash/zsh - Evan Ye"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><meta name="description" content="在 Mac 上用 zsh 已經有一陣子了，最讓我詬病的就是 zsh 的 auto suggestion 及 auto completion 速度相當慢，而且有一些很奇怪的問題（bugs?）。最近 fish 這個 shell 好像很紅，索性就把 zsh 換成 fish 了。
裝完後不只速度 ++，連 plugin / theme 的套件管理都有（fisherman），使用起來相當快速方便，要說缺點呢">
<meta property="og:type" content="profile">
<meta property="og:title" content="在 OSX 使用 Fish shell 取代 bash/zsh">
<meta property="og:url" content="https://jigsawye.com/2016/06/20/install-fish-shell-on-os-x/index.html">
<meta property="og:site_name" content="JIGSAWYE">
<meta property="og:description" content="在 Mac 上用 zsh 已經有一陣子了，最讓我詬病的就是 zsh 的 auto suggestion 及 auto completion 速度相當慢，而且有一些很奇怪的問題（bugs?）。最近 fish 這個 shell 好像很紅，索性就把 zsh 換成 fish 了。
裝完後不只速度 ++，連 plugin / theme 的套件管理都有（fisherman），使用起來相當快速方便，要說缺點呢">
<meta property="og:updated_time" content="2016-06-21T04:39:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="在 OSX 使用 Fish shell 取代 bash/zsh">
<meta name="twitter:description" content="在 Mac 上用 zsh 已經有一陣子了，最讓我詬病的就是 zsh 的 auto suggestion 及 auto completion 速度相當慢，而且有一些很奇怪的問題（bugs?）。最近 fish 這個 shell 好像很紅，索性就把 zsh 換成 fish 了。
裝完後不只速度 ++，連 plugin / theme 的套件管理都有（fisherman），使用起來相當快速方便，要說缺點呢">
<meta property="fb:app_id" content="495983917226031"><meta property="og:image" content="https://avatars1.githubusercontent.com/u/8567270?v=3&amp;s=300"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"><link rel="search" type="application/opensearchdescription+xml" href="https://jigsawye.com/atom.xml" title="JIGSAWYE"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">HOME</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="https://github.com/jigsawye" target="_blank" class="nav-list-link"><i alt="GitHub" title="GitHub" class="fa fa-github"></i></a></li><li class="nav-list-item"><a href="https://facebook.com/jigsaw.ye" target="_blank" class="nav-list-link"><i alt="Facebook" title="Facebook" class="fa fa-facebook"></i></a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link"><i alt="RSS" title="RSS" class="fa fa-rss"></i></a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">在 OSX 使用 Fish shell 取代 bash/zsh</h1><div class="post-info">2016年6月20日</div><div class="post-content"><p>在 Mac 上用 <a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="external">zsh</a> 已經有一陣子了，最讓我詬病的就是 zsh 的 auto suggestion 及 auto completion 速度相當慢，而且有一些很奇怪的問題（bugs?）。最近 <a href="https://fishshell.com/" target="_blank" rel="external">fish</a> 這個 shell 好像很紅，索性就把 zsh 換成 fish 了。</p>
<p>裝完後不只速度 ++，連 plugin / theme 的套件管理都有（<a href="https://github.com/fisherman/fisherman" target="_blank" rel="external">fisherman</a>），使用起來相當快速方便，要說缺點呢，就是與 bash 不相容，所以很常在寫 bash 的捧油只能看看囉。</p>
<a id="more"></a>
<blockquote>
<p>Updated on 2016/06/21<br>寫完這篇隔天就收到 oh-my-fish 已經不 maintain 了，所以換成 fisherman。</p>
</blockquote>
<h2 id="fish"><a href="#fish" class="headerlink" title="fish"></a>fish</h2><h4 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h4><p>只要用 homebrew 安裝即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ brew install fish</div></pre></td></tr></table></figure>
<h4 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h4><p>不論你預設是 bash 還是 zsh，執行 <code>fish</code> 就能切到 fish shell 了。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ fish</div></pre></td></tr></table></figure>
<h4 id="Set-fish-as-default-shell"><a href="#Set-fish-as-default-shell" class="headerlink" title="Set fish as default shell"></a>Set fish as default shell</h4><p>當然不可能每次開 terminal 就切換一次，我們可以把 fish 改成 terminal 的 default shell：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ <span class="built_in">echo</span> <span class="string">"/usr/local/bin/fish"</span> | sudo tee <span class="_">-a</span> /etc/shells</div><div class="line">$ chsh <span class="_">-s</span> /usr/<span class="built_in">local</span>/bin/fish</div></pre></td></tr></table></figure>
<h2 id="fisherman"><a href="#fisherman" class="headerlink" title="fisherman"></a>fisherman</h2><p><code>fisherman</code> 跟 <code>oh-my-zsh</code> 用起來是截然不同的感受，oh-my-zsh 是把 plugins 全部都裝好了，只需要啟動，fishermane 用起來則像是 <code>npm</code> 或 <code>composer</code> 的套件管理器一樣。</p>
<h4 id="Installation-1"><a href="#Installation-1" class="headerlink" title="Installation"></a>Installation</h4><p>curl 拉下來就行了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ curl -Lo ~/.config/fish/<span class="built_in">functions</span>/fisher.fish --create-dirs git.io/fisher</div></pre></td></tr></table></figure>
<h4 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h4><p>直接看官方 README 吧：<a href="https://github.com/fisherman/fisherman" target="_blank" rel="external">https://github.com/fisherman/fisherman</a></p>
<h2 id="額外補充"><a href="#額外補充" class="headerlink" title="額外補充"></a>額外補充</h2><p>如果你有在使用 nvm 的話，因為 nvm 是透過 <code>source ~/.nvm/nvm.sh</code> 執行，但因為 fish 不支援 bash，所以這支檔案裡的 shell 會直接爆給你看。</p>
<p>要解決這個問題的話直接透過 fisherman 安裝 nvm 的 <a href="https://github.com/fisherman/nvm" target="_blank" rel="external">plugin</a> 即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ fisher nvm</div></pre></td></tr></table></figure>
<p>這樣還會發生一個問題，就是 nvm 不會自動使用 default 的 node 版本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ node -v</div><div class="line">fish: Unknown <span class="built_in">command</span> <span class="string">'node'</span></div></pre></td></tr></table></figure>
<p>用編輯器打開 <code>~/.config/fish/config.fish</code> 新增下面這行即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bass <span class="built_in">source</span> ~/.nvm/nvm.sh</div></pre></td></tr></table></figure>
<p>bass 是讓 fish 可以執行 bash 的一個橋接工具，透過 bass 就能執行 bash 了。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/04/18/understanding-javascript-async-await/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'jigsawnotes';
var disqus_identifier = '2016/06/20/install-fish-shell-on-os-x/';
var disqus_title = '在 OSX 使用 Fish shell 取代 bash/zsh';
var disqus_url = 'https://jigsawye.com/2016/06/20/install-fish-shell-on-os-x/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//jigsawnotes.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="https://jigsawye.com">Evan Ye</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-57230871-3",'auto');ga('send','pageview');</script></body></html>